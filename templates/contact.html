{% extends "base.html" %}

{% block title %}CyberCrim – IA-Solution | Contact{% endblock %}

{% block head %}
<style>
    .contact-card {
        background: linear-gradient(145deg, #0f0f14 0%, #0a0a0d 100%);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .contact-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px -5px rgba(0, 255, 157, 0.1);
    }
    
    .contact-icon {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 12px;
        margin-right: 1rem;
        flex-shrink: 0;
    }
    
    .contact-icon.primary {
        background: rgba(0, 255, 157, 0.1);
        color: #00ff9d;
    }
    
    .contact-icon.secondary {
        background: rgba(0, 209, 255, 0.1);
        color: #00d1ff;
    }
    
    .form-input {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: white;
        transition: all 0.3s ease;
    }
    
    .form-input:focus {
        border-color: #00ff9d;
        box-shadow: 0 0 0 3px rgba(0, 255, 157, 0.1);
    }
    
    .form-textarea {
        min-height: 150px;
        resize: vertical;
    }
    
    .submit-btn {
        background: linear-gradient(135deg, #00ff9d 0%, #00d1ff 100%);
        color: #0e0e12;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px -5px rgba(0, 255, 157, 0.2);
    }
    
    .map-container {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
        height: 0;
        overflow: hidden;
        border-radius: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .map-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }
    
    .social-link {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 0.5rem;
        color: white;
        transition: all 0.3s ease;
    }
    
    .social-link:hover {
        transform: translateY(-3px);
    }
    
    .social-link.github {
        background: #333;
    }
    
    .social-link.linkedin {
        background: #0077b5;
    }
    
    .social-link.twitter {
        background: #1da1f2;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-to-b from-dark to-dark-800 pt-24 pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Contactez-<span class="text-primary">nous</span></h1>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
            Une question, un projet ou besoin d'un devis ? Notre équipe est là pour vous répondre sous 24h.
        </p>
    </div>
</section>

<!-- Contact Section -->
<section class="py-16 bg-dark-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-12">
            <!-- Left Column: Contact Form -->
            <div>
                <div class="bg-dark-700/50 border border-dark-600 rounded-2xl p-8">
                    <h2 class="text-2xl font-bold text-white mb-6">Envoyez-nous un message</h2>
                    
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="mb-6 p-4 rounded-lg {% if category == 'success' %}bg-green-900/50 text-green-300 border border-green-800{% else %}bg-red-900/50 text-red-300 border border-red-800{% endif %}">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                    
                    <form action="{{ url_for('contact') }}" method="POST" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-300 mb-2">Votre nom</label>
                                <input type="text" id="name" name="name" required 
                                    class="w-full px-4 py-3 rounded-lg form-input focus:outline-none focus:ring-2 focus:ring-primary/50">
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Votre email</label>
                                <input type="email" id="email" name="email" required 
                                    class="w-full px-4 py-3 rounded-lg form-input focus:outline-none focus:ring-2 focus:ring-primary/50">
                            </div>
                        </div>
                        <div>
                            <label for="subject" class="block text-sm font-medium text-gray-300 mb-2">Sujet</label>
                            <input type="text" id="subject" name="subject" required 
                                class="w-full px-4 py-3 rounded-lg form-input focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-300 mb-2">Votre message</label>
                            <textarea id="message" name="message" rows="5" required
                                class="w-full px-4 py-3 rounded-lg form-input form-textarea focus:outline-none focus:ring-2 focus:ring-primary/50"></textarea>
                        </div>
                        <div class="pt-2">
                            <button type="submit" class="w-full py-3 px-6 rounded-lg submit-btn font-medium">
                                Envoyer le message
                                <svg class="w-5 h-5 ml-2 inline-block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Right Column: Contact Info -->
            <div class="space-y-8">
                <div class="bg-dark-700/50 border border-dark-600 rounded-2xl p-8">
                    <h2 class="text-2xl font-bold text-white mb-6">Informations de contact</h2>
                    <p class="text-gray-300 mb-8">
                        Notre équipe est à votre disposition pour répondre à toutes vos questions. N'hésitez pas à nous contacter par téléphone, email ou via nos réseaux sociaux.
                    </p>
                    
                    <div class="space-y-6">
                        <!-- Email -->
                        <div class="flex items-start">
                            <div class="contact-icon primary">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-white">Email</h3>
                                <p class="text-gray-400">contact@cybercrim-ia.com</p>
                                <p class="text-sm text-gray-500 mt-1">Réponse sous 24h</p>
                            </div>
                        </div>
                        
                        <!-- Téléphone -->
                        <div class="flex items-start">
                            <div class="contact-icon secondary">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-white">Téléphone</h3>
                                <p class="text-gray-400">+33 6 12 34 56 78</p>
                                <p class="text-sm text-gray-500 mt-1">Lun-Ven, 9h-18h</p>
                            </div>
                        </div>
                        
                        <!-- Adresse -->
                        <div class="flex items-start">
                            <div class="contact-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-white">Bureau</h3>
                                <p class="text-gray-400">15 Rue de la Cybersécurité</p>
                                <p class="text-gray-400">75015 Paris, France</p>
                                <p class="text-sm text-gray-500 mt-1">Sur rendez-vous uniquement</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Social Media -->
                    <div class="mt-8 pt-6 border-t border-dark-600">
                        <h3 class="text-lg font-semibold text-white mb-4">Suivez-nous</h3>
                        <div class="flex space-x-4">
                            <a href="https://github.com/cybercrim-ia" target="_blank" rel="noopener noreferrer" class="social-link github" aria-label="Visit our GitHub profile" title="GitHub">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.699 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"></path>
                                </svg>
                            </a>
                            <a href="https://linkedin.com/company/cybercrim-ia" target="_blank" rel="noopener noreferrer" class="social-link linkedin" aria-label="Visit our LinkedIn page" title="LinkedIn">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                                </svg>
                            </a>
                            <a href="https://twitter.com/cybercrim_ia" target="_blank" rel="noopener noreferrer" class="social-link twitter" aria-label="Follow us on Twitter" title="Twitter">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.054 10.054 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Map -->
                <div class="bg-dark-700/50 border border-dark-600 rounded-2xl p-8">
                    <h2 class="text-2xl font-bold text-white mb-6">Notre localisation</h2>
                    <div class="map-container">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.9916256937595!2d2.2922926156382003!3d48.8583700792875!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e2964e34e2d%3A0x8ddca9ee380ef7e0!2sTour%20Eiffel!5e0!3m2!1sfr!2sfr!4v1641234567890!5m2!1sfr!2sfr" 
                                allowfullscreen
                                title="Carte Google Maps montrant notre emplacement près de la Tour Eiffel, Paris"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-gradient-to-r from-dark-800 to-dark-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Prêt à sécuriser votre entreprise ?</h2>
        <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
            Contactez-nous dès aujourd'hui pour discuter de vos besoins en cybersécurité et découvrir comment nous pouvons vous aider à protéger votre entreprise.
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
            <a href="#contact-form" class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-dark bg-primary hover:bg-primary/90 transition-colors">
                Nous contacter
                <svg class="ml-2 -mr-1 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                </svg>
            </a>
            <a href="tel:+33612345678" class="inline-flex items-center justify-center px-6 py-3 border border-gray-600 text-base font-medium rounded-md text-white bg-transparent hover:bg-gray-800 transition-colors">
                <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                +33 6 12 34 56 78
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Simple form validation
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        
        if (form) {
            form.addEventListener('submit', function(e) {
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const subject = document.getElementById('subject').value.trim();
                const message = document.getElementById('message').value.trim();
                
                if (!name || !email || !subject || !message) {
                    e.preventDefault();
                    alert('Veuillez remplir tous les champs obligatoires.');
                    return false;
                }
                
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    e.preventDefault();
                    alert('Veuillez entrer une adresse email valide.');
                    return false;
                }
                
                // If all validations pass, the form will submit
                return true;
            });
        }
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });
    });
</script>
{% endblock %}
